@startuml
start
:Call scrape_and_save(url, image_path);
:Invoke scrape_image_url(url);

if (regex match found?) then (yes)
  :Extract image_url and compute final_url;
else (no)
  :final_url = None;
endif

if (final_url != null?) then (yes)
  :Invoke download_image(final_url, image_path);
  if (response OK?) then (yes)
    :Write file to disk;
    ->[return True]
  else (no)
    :Print error;
    ->[return False]
  endif
else (no)
  ->[return False]
endif

stop
@enduml
